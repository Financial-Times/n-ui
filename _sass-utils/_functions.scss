////
/// @group n-ui functions
////

$_n-ui-core: ads grid header layout normalize typography utils;

/// Test if the given feature is configured
/// @param {String} $feature-name
/// @returns {Bool}
@function nUiHas($feature-name) {
	$feature-is-on: nUiFeatureValue($feature-name) == true or nUiFeatureValue($feature-name) == 'critical';
	$feature-is-not-in-excluded-core: $n-ui-include-core == true or nUiFeatureIsCore($feature-name) == false;

	@return $feature-is-on and $feature-is-not-in-excluded-core;
}

/// Get the value of a given feature (true|false|critical)
/// @param {String} $feature
/// @returns {Bool|String}
@function nUiFeatureValue($feature-name) {
	@return map-get($n-ui-features, $feature-name);
}

/// Test whether a feature is part of the core of n-ui
/// @param {String} $feature
/// @returns {Bool}
@function nUiFeatureIsCore($feature-name) {
	@return (null != index($_n-ui-core, $feature-name));
}

/// Test to check if the given module is configured and whether it has been output already
/// @param {String} $module-name
/// @param {String} $partial-name
/// @returns {Bool}
@function nUiApply($module-name, $partial-name: '') {
	@if nUiHas($module-name) {
		$full-name: $module-name + $partial-name;
		$should-apply: index($n-ui-imported-modules, $full-name) == null;

		@if ($should-apply) {
			$n-ui-imported-modules: append($n-ui-imported-modules, $full-name) !global;
		}

		@return $should-apply;
	}

	@return false;
}
