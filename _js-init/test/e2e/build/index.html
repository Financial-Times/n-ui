<!DOCTYPE HTML>
<html class="no-js core">
<head>
	<title>next.ft.com acid test</title>
	<style>
		.core .enhanced,
		.enhanced .core {
			display: none;
		}

		.test:after {
			content: '';
			display: block;
			float: right;
			height: 30px;
			min-width: 30px;
			background: red;
		}

		.test.ok:after {
			background: lime;
		}

		.test.polyfill:after {
			content: 'polyfill';
		}

		.test.native:after {
			content: 'native';
		}

		.experience {
			background: yellow;
			display: inline-block;
		}

	</style>
</head>
<body>
	<script>
			window.cutsTheMustard = (typeof Function.prototype.bind !== 'undefined');
			if (window.cutsTheMustard) {
				document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/, 'js').replace(/\bcore\b/, 'enhanced');
			}
	</script>
	<!--[if lt IE 9]>
	<script>
	/**
	* @preserve HTML5 Shiv 3.7.2 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed
	*/
	!function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=t.elements;return"string"==typeof a?a.split(" "):a}function e(a,b){var c=t.elements;"string"!=typeof c&&(c=c.join(" ")),"string"!=typeof a&&(a=a.join(" ")),t.elements=c+" "+a,j(b)}function f(a){var b=s[a[q]];return b||(b={},r++,a[q]=r,s[r]=b),b}function g(a,c,d){if(c||(c=b),l)return c.createElement(a);d||(d=f(c));var e;return e=d.cache[a]?d.cache[a].cloneNode():p.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),!e.canHaveChildren||o.test(a)||e.tagUrn?e:d.frag.appendChild(e)}function h(a,c){if(a||(a=b),l)return a.createDocumentFragment();c=c||f(a);for(var e=c.frag.cloneNode(),g=0,h=d(),i=h.length;i>g;g++)e.createElement(h[g]);return e}function i(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return t.shivMethods?g(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/[\w\-:]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(t,b.frag)}function j(a){a||(a=b);var d=f(a);return!t.shivCSS||k||d.hasCSS||(d.hasCSS=!!c(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),l||i(a,d),a}var k,l,m="3.7.2",n=a.html5||{},o=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,q="_html5shiv",r=0,s={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",k="hidden"in a,l=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return"undefined"==typeof a.cloneNode||"undefined"==typeof a.createDocumentFragment||"undefined"==typeof a.createElement}()}catch(c){k=!0,l=!0}}();var t={elements:n.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:m,shivCSS:n.shivCSS!==!1,supportsUnknownElements:l,shivMethods:n.shivMethods!==!1,type:"default",shivDocument:j,createElement:g,createDocumentFragment:h,addElements:e};a.html5=t,j(b)}(this,document);
	</script>
	<![endif]-->
	<h1>next.ft.com acid test?</h1>
	<h2>This browser should receive the <span class="experience core">core</span><span class="experience enhanced">enhanced</span> experience</h2>
	<p>Note - for core experience, aside from the image loading test, nothing should appear below</p>
	<h2 class="enhanced test" data-feature="app">Does it run application code?</h2>
	<h2 class="enhanced test" data-feature="fetch">Is fetch defined?</h2>
	<h2 class="enhanced test" data-feature="requestAnimationFrame">Is requestAnimationFrame defined?</h2>
	<h2 class="enhanced test" data-feature="Promise">Is Promise defined?</h2>
	<h2 class="enhanced test" data-feature="matchMedia">Is matchMedia defined?</h2>
	<h2 class="enhanced test" data-feature="Array.prototype.find">Is Array.prototype.find defined?</h2>
	<h2 class="enhanced test" data-feature="Array.prototype.findIndex">Is Array.prototype.findIndex defined?</h2>
	<h2 class="enhanced test" data-feature="Array.from">Is Array.from defined?</h2>
	<h2 class="enhanced test" data-feature="Array.isArray">Is Array.isArray defined?</h2>
	<h2 class="enhanced test" data-feature="Array.prototype.every">Is Array.prototype.every defined?</h2>
	<h2 class="enhanced test" data-feature="Array.prototype.filter">Is Array.prototype.filter defined?</h2>
	<h2 class="enhanced test" data-feature="Array.prototype.forEach">Is Array.prototype.forEach defined?</h2>
	<h2 class="enhanced test" data-feature="Array.prototype.indexOf">Is Array.prototype.indexOf defined?</h2>
	<h2 class="enhanced test" data-feature="Array.prototype.lastIndexOf">Is Array.prototype.lastIndexOf defined?</h2>
	<h2 class="enhanced test" data-feature="Array.prototype.map">Is Array.prototype.map defined?</h2>
	<h2 class="enhanced test" data-feature="Array.prototype.reduce">Is Array.prototype.reduce defined?</h2>
	<h2 class="enhanced test" data-feature="Array.prototype.reduceRight">Is Array.prototype.reduceRight defined?</h2>
	<h2 class="enhanced test" data-feature="Array.prototype.some">Is Array.prototype.some defined?</h2>
	<h2 class="enhanced test" data-feature="CustomEvent">Is CustomEvent defined?</h2>
	<h2 class="enhanced test" data-feature="Date.now">Is Date.now defined?</h2>
	<h2 class="enhanced test" data-feature="Date.prototype.toISOString">Is Date.prototype.toISOString defined?</h2>
	<h2 class="enhanced test" data-feature="Element.prototype.classList">Is Element.prototype.classList defined?</h2>
	<h2 class="enhanced test" data-feature="Element.prototype.cloneNode">Is Element.prototype.cloneNode defined?</h2>
	<h2 class="enhanced test" data-feature="Element.prototype.closest">Is Element.prototype.closest defined?</h2>
	<h2 class="enhanced test" data-feature="Element.prototype.matches">Is Element.prototype.matches defined?</h2>
	<h2 class="enhanced test" data-feature="JSON">Is JSON defined?</h2>
	<h2 class="enhanced test" data-feature="Object.assign">Is Object.assign defined?</h2>
	<h2 class="enhanced test" data-feature="Object.create">Is Object.create defined?</h2>
<!-- 	<h2 class="enhanced test" data-feature="Object.defineProperties">Is Object.defineProperties defined?</h2>
	<h2 class="enhanced test" data-feature="Object.defineProperty">Is Object.defineProperty defined?</h2> -->
	<h2 class="enhanced test" data-feature="Object.getOwnPropertyNames">Is Object.getOwnPropertyNames defined?</h2>
	<h2 class="enhanced test" data-feature="Object.getPrototypeOf">Is Object.getPrototypeOf defined?</h2>
	<h2 class="enhanced test" data-feature="Object.keys">Is Object.keys defined?</h2>
	<!-- <h2 class="enhanced test" data-feature="PageVisibility">Is PageVisibility defined?</h2> -->
	<h2 class="enhanced test" data-feature="String.prototype.includes">Is String.prototype.includes defined?</h2>
	<h2 class="enhanced test" data-feature="String.prototype.trim">Is String.prototype.trim defined?</h2>
	<h2 class="enhanced test" data-feature="document.querySelector">Is document.querySelector defined?</h2>
	<h2 class="test" data-feature="HTMLPictureElement">Is HTMLPictureElement defined?</h2>
	<p>A picture of Nicholas Cage in the film Raising Arizona, by Ethan and Joel Coen, should appear below</p>
	<picture>
		<source srcset="http://www.placecage.com/c/200/300" media="(min-width: 1px)">
	 	<img src="not-an-image.png" alt="This should contain a picture">
	</picture>
	<script>
	window.nextFeatureFlags = [{
		name: 'javascript',
		state: true
	}];
	</script>
	<script>
	function ftNextLoadScript (src, sync) {
	  var d = document, o = d.createElement('script');
	  if (!sync) o.async = o.defer = true;
	  o.src = src;
	  var s = d.getElementsByTagName('script')[0];
	  s.parentNode.insertBefore(o, s.nextSibling);
	  return o;
	}

	function ftNextPolyfillServiceHandler () {
		var e;
		try {
			e = new Event('ftNextPolyfillLoaded');
		} catch(e) {
			e = document.createEvent('Event');
			e.initEvent('ftNextPolyfillLoaded', true, true);
		}
		window.ftNextPolyfillLoaded = true;
		document.dispatchEvent(e);
	}

	(function () {
		if (cutsTheMustard) {
			ftNextLoadScript('bundle.js');
			ftNextLoadScript('https://next-geebee.ft.com/polyfill/v2/polyfill.min.js?callback=ftNextPolyfillServiceHandler&features=' + [
				'default',
				'requestAnimationFrame',
				'Promise',
				'matchMedia',
				'HTMLPictureElement',
				// the following pending resolving the weird case of the Android 4.4.2 with Webkit 534.40, which should only be android 4.3
				'CustomEvent|always|gated',
				'fetch|always|gated',
				'Array.prototype.find|always|gated',
				'Array.prototype.findIndex|always|gated',

			].join(','));
		} else {
			ftNextLoadScript('https://next-geebee.ft.com/polyfill/v2/polyfill.min.js?features=HTMLPictureElement|always|gated');
		}
	})()
	</script>

	<!-- o-tracking fallback -->
</body>
</html>
